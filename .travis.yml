language: java
sudo: false

script:
  - mvn clean verify

after_success:
  - mvn clean test jacoco:report coveralls:report

deploy:
  provider: script
  script:
    - PARSED_TAG=echo $TRAVIS_TAG | sed 's/v//'
    - mvn clean mvn release:update-versions -DdevelopmentVersion=$PARSED_TAG
    - mvn clean deploy --settings .travis.settings.xml
    - mvn clean mvn release:update-versions -DdevelopmentVersion=$PARSED_TAG-SNAPSHOT
  on:
    tags: true

env:
  global:
    - secure: sWga5WvUP6p4IZjq8xKCXUomBmaAb7uCormrlfWWYeXV/LMb8VMqfbgRt7DMlvum+umarxY6VgEwhYHq5lHM0AYDOv7PGap/sj933sb0CjVqmG2N36OEDXeJFtQkxDEIm0VBzt//wzrXTb5cFQPKbiP05Uz3OWgfblhF4Zfd2lodC1bvlD3SLsFvMZ/ajGCf+xFc1WRItI3oWcWtj7Ljc1QlVzJbNmXODlWHLebAfycrLMp53xCdSbbTTsDuXinF26xeYV90wlZL6iIiFOpHsOMAc3c70B+lkit4m3u9C2NExaemUDCShHqbldps90JA4RkJ4qOEZw3StMZ3xn1MTa4FUBMaXsGSleSRvppvqhtRRyqgp6lKRcp4xkJML2yp0YF2EMJAIQkloxqJSa2EcH3ocxOiBhTVg8AJcbRrh1WcEcfn0GZDMywc7YpGiB9agvtjbdG95afxlu3tMQZ8+08ZPSLRJEbD3/S8o5a9AW3Vccgn+tYYdCLbykBlj6rzIIrqReiqnauBaeHn0qyxlp0ZPj0QMtWn7vxqcew1P0cx0VdesJO6kLHaN5xBcXoZQHOiI4bJBa/ZDghdRT6xVdbY4jINJ7ZbOUBDsCDhPcV+jqQaeYxR+Dfpcq4SmBKE7lzZHJfCpmStxNpJWDR2asCSesW24y30KC6aRTckBEQ=
    - secure: SJWnDHtbaOgRPGEB0nLl6k06Fqh+56TqS7az1LHAEzLqEF96tuTsqrRakBmTS8mcZxYTJL+di+F/ikTcwKUJOvSTpn1Z8FiGcJNM6QXo2F6/t02YER10BMxgf19wXthRkyxVR7EN87oVqQKDhSeXs2N3+9TiHeXwteLZOEQCcmsqltPVSJZrCbXt4IOp3j+Dnv7qRbG69se3I4c6T6fYvRR6HLhxy7aertM73yabOw2VwlKLYRAuaK3arT1rVdcyGIZadJ7Y3+iuEvtV2CGZV99cI8tlX86jIPiPZQBcc6gdSAta3ulTZpB8bQmjBeJunZBRTxu1wSPSb6sGWJPMpepvUboiTg5K263AlN/6GwEGWipMsshkcIOsR9BJJ1WS0t19w7QVqKN2DrLk+Q6f8TZ1EsghzAnG73sA63S7LcOzpWxXqWXWjj3gWceaZQNCqS+ZzVr++NxVn6NuHX2i82zV6bFAkhnW3l6kAWrv0zJeTCOE97TEh67Je0Ebo5lwAjKXmNWApHJBVlHkXpEtsR3hElylRMAEQivaYvrcoIsmQCBAdKM+P0rc8eGynxm+AKcXKlHfSafjriqwCPNtVvzWktSPhphIVYgXqYX5z3yxOBHG1y0VpoTLOsoha+zNlgnlcirDUDXhKN0RiKPjX3zJpJs+jeUyMKrZtC9/jW8=
    - secure: tsJdV5A95YdVOESb30kAhCBnhlHCJN56O6MjmsEK7GTWwXyZBET69N/5ASlBkwJrIUyEywKHBD9ANSeIQ1a86byeHXGd+7PDGWKc6+LucbtHx4i/xZiCiWpvIMhjXOQinvVACkB5jAcegYSidSj0CegRVQx84nWclivFNQpA7Cxuw/k+3So9HjjQYqCR8c9JKTiRcOnkTfTCmJNjPWcNzyb/cguThkPwWnIf6a1mbDFA9Bxw3TB8m/On5VIYIfItCyPnXF5LR/Wr1RYpnSohjaP3jCvy2JsCm/e+a/vGxSlq8ZvQF1CPilF80LAdPC8Yh8JX+uUuJrwlfyrgRy9p/qttIz9GEt2iRqN/FMtP+zVZxm5DDmF0Raj2Tcy70jjan/M4tsV7mf24amFXQrv+qrOMTzhqFdTPAj9vuj3VdJtKeXZpdQF/Tu6+V9yg07w3YOTkbve3yWA5ZLnuBSNcOGgoPmC9xLpQ4OyXRM8T/R9VBSqFxoCxa9RL/8Dx5z/bd013efJEJknjM2WqMOYpysGS7cPql0zMRA5YzpyTz6zOqWDs017PegB2sUKWfsrtR7G+wj6e/q78IzukcQtGrw4Ny9LrDvGpFKLcwk4lsR/j09+o+BMl9CTiolsMf8Z7QswpLR69FPuhCEN5Nskz0ExpUr5OWlb5j8w2IJur7FM=
    - secure: TzGQV9X+4zOuUldEImo9dqzfIv7rPvnmRfn9wofPvi0wEQCK6ZNpwf9nGnykZhW9G3JGS4PgyOUrnYn8YuRQ4cua1Lv+Xc2wEhfqioKlPHVIEFssqmSwrBloCrG1ST+//upms5ujW4BdcVb/YuNE9KzEPAHRCp1UN0CeCiqxUHPdFETKEEPRW1nYka24oLPXIGn70rnvKXPmGCq8g2UieOUC8wXqS1es5IrRc6tj0+BQJUttKVWpQ2Ne8mDuwqMKiB3klndKi6/ncWtzO4twf2Y1iOqTbyWMf6b0I7uRNTNiy2vUIHyMaaCBvzlGqQEOmdfc7mZl7kzj26JOYygxVMr4aKWn0nFrdREGYbtQiJ+Y0iWkeLya50qu3tFmoLUTKMpQXIR1J4owGGDL1mk3gDai/zhq4VsIULhLKeh+Z60sPagF2SL5Wb1+EuNOxSJcGgTejLrYeoMT4j+s+zYQaquGYkO9Eg5X2mvMZnJbG+nuqZG7edQuXb5PknMfqeSyVrFEEiWWr82opdieSgFXoU6f/XEC8tHWrkUSl2dyjN9DKG88e2lZ9Dcc0+ANSV5aoVSnkGg5MwL+1Fg4EI8k3B9cwD27Mlk3GZfgtISH8SiAbJa5SWK2KZLhqenL2yZR3bi3iwNsulu3SiVPmBLSXoBA3L36piPGA6vlIdPqHzA=
